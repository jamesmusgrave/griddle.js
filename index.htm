<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <style>
		body {
			margin: 50px;
			font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
			font-weight: bold;
		}

		#more {
			display: none;
		}

		.item {
			opacity: 0;
			-webkit-transition: opacity 1s ease-out;
			-moz-transition: opacity 1s ease-out;
			transition: opacity 1s ease-out;
			box-sizing: border-box;
			background: #333;
			color: #fff;
		}

		#scalingtext .item {
			float: left;
			
			padding: 10px;
		}

		#scalingtext .item span {
			line-height: 70%;
		}

		.item {
			/*border-top: 5px solid #fff;*/
            border: 2px solid #fff;
  
		}
        .item[data-first='true']{
            border-left: 5px solid #ff0;
        }
        .item[data-last='true']{
            border-right: 5px solid #f00;
        }
       
		.wrap:after {
			content: ".";
			display: block;
			clear: both;
			visibility: hidden;
			line-height: 0;
			height: 0;
		}
    </style>
</head>
<body>
    <h2>
        Scaling text
    </h2>
    <div id="scalingtext" class="wrap">
        <div class="item">
            <span>
                Lorem ipsum
                <br/>
                dolor sit amet
            </span>
        </div>
        <div class="item">
            <span>
                consectetur
                <br/>
                adipiscing elit
            </span>
        </div>
        <div class="item">
            <span>
                Aenean laoreet rhoncus turpis, at ornare
                <br/>
                lectus semper quis. Integer venenatis
                <br/>
                tortor ac quam volutpat, in venenatis
                <br/>
                justo placerat. Sed pulvinar rutrum mauris
                <br/>
                ut ultricies. Sed quis eros sed lacus
                <br/>
                auctor condimentum.
            </span>
        </div>
        <div class="item">
            <span>
                Quisque odio dui, convallis eget
                <br/>
                lacinia vel, rutrum vel dolor.
            </span>
        </div>
        <div class="item">
            <span>
                Aenean laoreet rhoncus turpis, at ornare
                <br/>
                lectus semper quis. Integer venenatis
                <br/>
                tortor ac quam volutpat, in venenatis
                <br/>
                justo placerat. Sed pulvinar rutrum mauris
                <br/>
                ut ultricies. Sed quis eros sed lacus
                <br/>
                auctor condimentum.
            </span>
        </div>
        <div class="item">
            <span>
                Aenean laoreet rhoncus
                <br/>
                turpis, at ornare
                <br/>
                lectus semper quis.
            </span>
        </div>
        <div class="item">
            <span>
                Et volutpat
                <br/>
                lorem tempor id
            </span>
        </div>
    </div>

    <h2>
        Pre-defined ratios
    </h2>
    <div id="setratios" class="wrap">
        <div class="item" data-ratio="1">
        </div>
        <div class="item" data-ratio="1.3">
        </div>
        <div class="item" data-ratio="1.8">
        </div>
        <div class="item" data-ratio="0.8">
        </div>
        <div class="item" data-ratio="1.3">
        </div>
        <div class="item" data-ratio="1">
        </div>
        <div class="item" data-ratio="1">
        </div>
        <div class="item" data-ratio="1.3">
        </div>
        <div class="item" data-ratio="1.8">
        </div>
        <div class="item" data-ratio="0.8">
        </div>
        <div class="item" data-ratio="1.3">
        </div>
        <div class="item" data-ratio="1">
        </div>
    </div>

    <h2>
        Predefined Groups
    </h2>
    <div id="setpattern">
        <div class="wrap">
            <div class="item">
                <img src="examples/images/portrait.png" />
            </div>
            <div class="item">
                <img src="examples/images/landscape.png" />
            </div>
            <div class="item">
                <img src="examples/images/widescreen.png" />
            </div>
        </div>
        <div class="wrap">
            <div class="item">
                <img src="examples/images/widescreen.png" />
            </div>
            <div class="item">
                <img src="examples/images/square.png" />
            </div>
        </div>
        <div class="wrap">
            <div class="item">
                <img src="examples/images/square.png" />
            </div>
            <div class="item">
                <img src="examples/images/portrait.png" />
            </div>
            <div class="item">
                <img src="examples/images/landscape.png" />
            </div>
        </div>
    </div>

    <h2>
        Only Show Full Rows
    </h2>
    <div id="fullrows" class="wrap">
        <div class="item">
            <img src="examples/images/square.png" />
        </div>
        <div class="item">
            <img src="examples/images/portrait.png" />
        </div>
        <div class="item">
            <img src="examples/images/landscape.png" />
        </div>
        <div class="item">
            <img src="examples/images/widescreen.png" />
        </div>
        <div class="item">
            <img src="examples/images/square.png" />
        </div>
        <div class="item">
            <img src="examples/images/portrait.png" />
        </div>
        <div class="item">
            <img src="examples/images/landscape.png" />
        </div>
        <div class="item">
            <img src="examples/images/widescreen.png" />
        </div>
    </div>
    <div id="more">
        <div class="item">
            <img src="examples/images/square.png" />
        </div>
        <div class="item">
            <img src="examples/images/portrait.png" />
        </div>
        <div class="item">
            <img src="examples/images/landscape.png" />
        </div>
        <div class="item">
            <img src="examples/images/widescreen.png" />
        </div>
    </div>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <script src="jquery.griddle.js"></script>
    <script>
    $(function() {
	    $('#scalingtext').griddle({
	        maxRatio: 10.5,
	        exposeScaling: true,
	        maxHeight: 300,
	        end: function(elm) {
	            elm.children().each(function() {
	                var scale = parseFloat($(this).attr('data-scale')) * 95;
	                $(this).css({
	                    'font-size': scale + "%"
	                });
	            });
	            elm.children().css({
	                opacity: 1
	            });
	        }
	    });
	    $('#setratios').griddle({
	        maxRatio: 14.5,
            gutter: 20,
            minHeight: 200,
	        end: function(elm) {
	            elm.children().css({
	                opacity: 1
	            });
	        }
	    });
	    $('#setpattern .wrap').imagesLoaded(function() {
	        $(this).griddle({
	            parentWidth: 900,
	            end: function(elm) {
	                elm.children().css({
	                    opacity: 1
	                });
	            }
	        });
	    });
	    $('#fullrows').imagesLoaded(function() {
	        $(this).griddle({
	            maxRatio: 3.6,
	            maxHeight: 400,
	            end: function(elm) {
	                // $("html, body").scrollTop($(document).height());
	                var lastRow = elm.children().last().attr('data-row');
	                elm.children('[data-row!="' + lastRow + '"]').show().css({
	                    opacity: 1
	                });
	                elm.children('[data-row="' + lastRow + '"]').css({
	                    display: 'none'
	                });

	            }
	        });
	    });
	    $('#fullrows, #setpattern .wrap').click(function() {
	        var source = $('#more');
	        var random = Math.round(Math.random() * 4);
	        var more = $(source).children('.item:eq(' + random + ')').clone().wrap('<div>').parent().html();
	        $(this).append(more);
	        // $(this).griddle('option',{parentWidth: 500});
	        $(this).griddle('layout');
	    });
	});
	</script>
</body>
</html>